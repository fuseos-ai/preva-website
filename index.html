<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PREVA — Your AI. Always.</title>
<meta name="description" content="PREVA is the first AI that actually lives with you. It learns who you are, remembers your life, and grows with you over time.">
<meta property="og:title" content="PREVA — Your AI. Always.">
<meta property="og:description" content="The first AI that actually lives with you. Private. Powerful. Yours.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://preva.ai">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="PREVA — Your AI. Always.">
<meta name="twitter:description" content="The first AI that actually lives with you. Private. Powerful. Yours.">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png">
<link rel="apple-touch-icon" sizes="192x192" href="/favicon-192x192.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
/* ============================================
   CSS RESET & BASE
   ============================================ */
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --hero-dark: #1A1A2E;
  --surface-dark: #242438;
  --border-dark: #2E2E44;
  --white: #FFFFFF;
  --muted: #8A8A9A;
  --sunlight: #E4C8A8;
  --sunlight-dim: rgba(228,200,168,0.15);
  --font-body: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --section-padding: clamp(80px, 12vw, 160px);
}

html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-body);
  background: var(--hero-dark);
  color: var(--white);
  overflow-x: hidden;
  line-height: 1.6;
}

/* Custom scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--hero-dark); }
::-webkit-scrollbar-thumb { background: rgba(228,200,168,0.3); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(228,200,168,0.5); }

a { color: var(--sunlight); text-decoration: none; transition: color 0.3s; }
a:hover { color: var(--white); }

/* ============================================
   NAVIGATION
   ============================================ */
nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding: 20px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(26,26,46,0.9);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border-dark);
  transition: padding 0.4s;
}

nav.scrolled {
  padding: 14px 40px;
}

.nav-logo {
  font-weight: 800;
  font-size: 1.3rem;
  letter-spacing: 0.5em;
  color: var(--white);
  /* Nav logo is left-aligned, so no text-indent needed usually, 
     but let's check if it needs compensation. 
     Actually, for left-aligned text, letter-spacing adds space to the right 
     of the last letter, which is fine. */
}

.nav-links {
  display: flex;
  align-items: center;
  gap: 32px;
}

.nav-links a {
  color: var(--muted);
  font-size: 0.9rem;
  font-weight: 600;
  transition: color 0.3s;
}

.nav-links a:hover {
  color: var(--white);
}

.nav-cta {
  padding: 10px 28px;
  background: var(--sunlight);
  color: var(--hero-dark) !important;
  border: none;
  border-radius: 8px;
  font-family: var(--font-body);
  font-size: 0.85rem;
  font-weight: 800;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  text-decoration: none;
}

.nav-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(228,200,168,0.3);
  color: var(--hero-dark) !important;
  text-decoration: none;
}

/* ============================================
   HERO SECTION — "THE AWAKENING"
   ============================================ */
#hero {
  position: relative;
  height: 100vh;
  min-height: 700px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

#hero-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

.hero-content {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 0 20px;
}

.hero-wordmark {
  font-size: clamp(4rem, 12vw, 8.125rem);
  font-weight: 800;
  letter-spacing: 0.5em;
  text-indent: 0.5em;
  color: var(--white);
  line-height: 1;
  margin-bottom: 24px;
  min-height: 1.2em;
}

.hero-wordmark .char {
  display: inline-block;
  opacity: 0;
  transform: translateY(20px);
  transition: none;
}

.hero-wordmark .char.visible {
  opacity: 1;
  transform: translateY(0);
}

.hero-sub {
  font-size: clamp(1rem, 2vw, 1.25rem);
  color: var(--white);
  font-weight: 300;
  letter-spacing: 0.0667em;
  text-transform: uppercase;
  opacity: 0;
  transform: translateY(15px);
  transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
  transition-delay: 0.5s;
}

.hero-sub.visible {
  opacity: 1;
  transform: translateY(0);
}

.hero-cta-group {
  margin-top: 48px;
  opacity: 0;
  transform: translateY(20px);
  transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
  transition-delay: 0.8s;
}

.hero-cta-group.visible {
  opacity: 1;
  transform: translateY(0);
}

.hero-cta {
  display: inline-block;
  padding: 16px 48px;
  font-size: 1rem;
  font-weight: 800;
  color: var(--hero-dark);
  background: var(--sunlight);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-family: var(--font-body);
  letter-spacing: 0.5px;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: 0 4px 30px rgba(228,200,168,0.2);
  text-decoration: none;
}

.hero-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(228,200,168,0.3);
  color: var(--hero-dark);
}

.hero-scroll-indicator {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
  transition: opacity 1.5s;
  transition-delay: 2s;
  z-index: 2;
}

.hero-scroll-indicator.visible { opacity: 0.5; }

.scroll-line {
  width: 1px;
  height: 50px;
  background: linear-gradient(to bottom, var(--sunlight), transparent);
  margin: 0 auto;
  animation: scrollPulse 2s ease-in-out infinite;
}

@keyframes scrollPulse {
  0%, 100% { opacity: 0.3; transform: scaleY(0.6); }
  50% { opacity: 0.8; transform: scaleY(1); }
}

/* ============================================
   SECTION SHARED STYLES
   ============================================ */
section {
  padding: var(--section-padding) 20px;
  position: relative;
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  width: 100%;
}

.section-label {
  font-size: 0.875rem;
  font-weight: 300;
  letter-spacing: 8px;
  text-transform: uppercase;
  color: var(--sunlight);
  margin-bottom: 16px;
}

.section-heading {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 800;
  letter-spacing: 2px;
  line-height: 1.2;
  margin-bottom: 24px;
  color: var(--white);
}

.section-heading .glow-word {
  position: relative;
  display: inline;
}

.section-heading .glow-word::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  color: var(--sunlight);
  opacity: 0;
  filter: blur(8px);
  animation: glowPulse 4s ease-in-out infinite;
}

@keyframes glowPulse {
  0%, 100% { opacity: 0; }
  50% { opacity: 0.6; }
}

.section-body {
  font-size: 1.05rem;
  color: var(--muted);
  line-height: 1.8;
  max-width: 680px;
}

/* Neural pulse transition */
.neural-pulse {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--sunlight), transparent);
  opacity: 0;
  transition: width 1.2s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.6s;
  box-shadow: 0 0 20px rgba(228,200,168,0.2), 0 0 60px rgba(228,200,168,0.1);
}

section.in-view .neural-pulse {
  width: min(80%, 600px);
  opacity: 1;
}

/* Scroll reveal */
.reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.9s cubic-bezier(0.16, 1, 0.3, 1), transform 0.9s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal.in-view {
  opacity: 1;
  transform: translateY(0);
}

.reveal-delay-1 { transition-delay: 0.1s; }
.reveal-delay-2 { transition-delay: 0.2s; }
.reveal-delay-3 { transition-delay: 0.3s; }
.reveal-delay-4 { transition-delay: 0.4s; }
.reveal-delay-5 { transition-delay: 0.5s; }

/* Split text animation for headings */
.split-heading .word {
  display: inline-block;
  overflow: hidden;
}

.split-heading .word-inner {
  display: inline-block;
  transform: translateY(105%);
  transition: transform 0.7s cubic-bezier(0.16, 1, 0.3, 1);
}

.split-heading.in-view .word-inner {
  transform: translateY(0);
}

/* ============================================
   WHAT IS PREVA SECTION
   ============================================ */
#what-is-preva {
  background: var(--hero-dark);
}

#what-is-preva .section-body p {
  margin-bottom: 20px;
}

.emphasis-text {
  font-size: clamp(1.2rem, 2.2vw, 1.5rem);
  font-weight: 600;
  color: var(--white);
  margin-top: 16px;
  line-height: 1.5;
}

.emphasis-text em {
  font-style: normal;
  color: var(--sunlight);
}

/* ============================================
   MEMORY TIMELINE SECTION
   ============================================ */
#timeline {
  padding: var(--section-padding) 20px;
  background: var(--hero-dark);
  position: relative;
  overflow: hidden;
}

.timeline-wrapper {
  position: relative;
  max-width: 900px;
  margin: 0 auto;
}

.timeline-line {
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, transparent, var(--sunlight), var(--sunlight), transparent);
  opacity: 0.2;
  transform: translateX(-50%);
}

.timeline-step {
  display: flex;
  align-items: center;
  gap: 60px;
  padding: 60px 0;
  position: relative;
}

.timeline-step:nth-child(even) { flex-direction: row-reverse; }

.timeline-visual {
  flex: 0 0 260px;
  height: 260px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.timeline-visual canvas {
  width: 100%;
  height: 100%;
}

.timeline-text {
  flex: 1;
}

.timeline-label {
  font-size: 0.875rem;
  font-weight: 300;
  letter-spacing: 8px;
  text-transform: uppercase;
  color: var(--sunlight);
  margin-bottom: 12px;
}

.timeline-title {
  font-size: clamp(1.5rem, 3vw, 2.2rem);
  font-weight: 800;
  letter-spacing: 2px;
  margin-bottom: 12px;
  line-height: 1.2;
  color: var(--white);
}

.timeline-desc {
  color: var(--muted);
  font-size: 1.05rem;
  line-height: 1.8;
}

/* Timeline node indicator */
.timeline-node {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 16px;
  height: 16px;
  background: var(--sunlight);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: 0 0 20px rgba(228,200,168,0.4);
  z-index: 2;
}

.timeline-step.in-view .timeline-node {
  transform: translate(-50%, -50%) scale(1);
}

/* ============================================
   FEATURES SECTION — LIVING CARDS
   ============================================ */
#features {
  background: var(--hero-dark);
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
  margin-top: 56px;
}

.feature-card {
  background: var(--surface-dark);
  border: 1px solid var(--border-dark);
  border-radius: 20px;
  padding: 40px 36px;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  animation: cardBreathe 6s ease-in-out infinite;
}

.feature-card:nth-child(2) { animation-delay: 1.5s; }
.feature-card:nth-child(3) { animation-delay: 3s; }
.feature-card:nth-child(4) { animation-delay: 4.5s; }

@keyframes cardBreathe {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

.feature-card:hover {
  border-color: rgba(228,200,168,0.3);
  transform: translateY(-6px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.3), 0 0 40px rgba(228,200,168,0.08);
  animation-play-state: paused;
}

.feature-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: var(--sunlight-dim);
  border: 1px solid var(--border-dark);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 24px;
  transition: all 0.4s;
}

.feature-icon svg {
  width: 22px;
  height: 22px;
  stroke: var(--sunlight);
  fill: none;
  stroke-width: 1.5;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.feature-card:hover .feature-icon {
  border-color: var(--sunlight);
  box-shadow: 0 0 20px rgba(228,200,168,0.2);
  transform: scale(1.1);
}

.feature-card h3 {
  font-size: 1.3rem;
  font-weight: 800;
  margin-bottom: 12px;
  letter-spacing: 1px;
  color: var(--white);
}

.feature-card p {
  color: var(--muted);
  font-size: 1.05rem;
  line-height: 1.8;
}

/* Ambient micro-animation per card */
.feature-card .card-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.card-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: var(--sunlight);
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.5s;
}

.feature-card:hover .card-particle {
  opacity: 0.4;
  animation: floatParticle 3s ease-in-out infinite;
}

@keyframes floatParticle {
  0%, 100% { transform: translate(0, 0); }
  25% { transform: translate(10px, -15px); }
  50% { transform: translate(-5px, -25px); }
  75% { transform: translate(15px, -10px); }
}

/* ============================================
   WHO IT'S FOR SECTION
   ============================================ */
#who-its-for {
  background: var(--hero-dark);
}

.personas-list {
  margin-top: 48px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.persona-item {
  padding: 28px 36px;
  border: 1px solid var(--border-dark);
  border-radius: 16px;
  background: var(--surface-dark);
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.persona-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--sunlight);
  opacity: 0;
  transition: opacity 0.4s;
}

.persona-item:hover {
  border-color: rgba(228,200,168,0.3);
  transform: translateX(8px);
  background: #2A2A40;
}

.persona-item:hover::before { opacity: 1; }

.persona-item p {
  font-size: 1.05rem;
  line-height: 1.6;
  color: var(--muted);
}

.persona-item strong {
  color: var(--white);
  font-weight: 600;
}

/* ============================================
   PULL QUOTE — EDITORIAL SECTION
   ============================================ */
.pull-quote-section {
  position: relative;
  padding: 120px 20px 140px;
  border-top: 1px solid var(--border-dark);
  border-bottom: 1px solid var(--border-dark);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.pull-quote-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 600px 400px at 50% 50%, rgba(228,200,168,0.07) 0%, transparent 70%),
    radial-gradient(ellipse 300px 300px at 50% 50%, rgba(228,200,168,0.04) 0%, transparent 50%);
  pointer-events: none;
}

.pull-quote-section::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(228,200,168,0.05) 0%, transparent 60%);
  pointer-events: none;
  animation: quoteGlow 6s ease-in-out infinite;
}

@keyframes quoteGlow {
  0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(0.95); }
  50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
}

.pull-quote-inner {
  position: relative;
  z-index: 1;
  max-width: 800px;
}

.pull-quote-text {
  font-size: clamp(1.5rem, 3vw, 2.5rem);
  font-weight: 300;
  font-style: italic;
  color: var(--white);
  letter-spacing: -0.5px;
  line-height: 1.5;
  margin-bottom: 24px;
}

.pull-quote-attribution {
  font-size: 1rem;
  font-weight: 400;
  color: var(--sunlight);
  letter-spacing: 2px;
  text-transform: uppercase;
}

/* ============================================
   WHY WE EXIST SECTION
   ============================================ */
#why-we-exist {
  background: var(--hero-dark);
}

#why-we-exist .section-body {
  max-width: 720px;
}

#why-we-exist .section-body p {
  margin-bottom: 24px;
}

/* ============================================
   ASK PREVA — PREMIUM CHAT INTERFACE
   ============================================ */
#faq {
  background: var(--hero-dark);
}

.preva-chat-window {
  max-width: 720px;
  margin: 48px auto 0;
  border: 1px solid var(--border-dark);
  border-radius: 24px;
  background: var(--surface-dark);
  overflow: hidden;
  box-shadow:
    0 4px 60px rgba(0,0,0,0.4),
    0 0 80px rgba(228,200,168,0.04),
    0 0 0 1px rgba(228,200,168,0.03);
}

.preva-chat-header {
  padding: 20px 28px;
  border-bottom: 1px solid var(--border-dark);
  display: flex;
  align-items: center;
  gap: 14px;
  background: rgba(36,36,56,0.8);
}

.preva-chat-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--sunlight);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.9rem;
  color: var(--hero-dark);
  flex-shrink: 0;
}

.preva-chat-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.preva-chat-name {
  font-weight: 700;
  font-size: 1rem;
  color: var(--white);
  letter-spacing: 0.5px;
}

.preva-chat-status {
  font-size: 0.75rem;
  color: #4ade80;
  display: flex;
  align-items: center;
  gap: 6px;
  font-weight: 500;
}

.preva-chat-status-dot {
  width: 7px;
  height: 7px;
  background: #4ade80;
  border-radius: 50%;
  animation: statusPulse 2s ease infinite;
  flex-shrink: 0;
}

@keyframes statusPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

.preva-chat-messages {
  padding: 28px;
  min-height: 220px;
  max-height: 480px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.preva-chat-messages::-webkit-scrollbar { width: 4px; }
.preva-chat-messages::-webkit-scrollbar-thumb { background: rgba(228,200,168,0.2); border-radius: 2px; }

.preva-chat-row {
  display: flex;
  gap: 10px;
  align-items: flex-end;
  animation: msgIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.preva-chat-row.from-user {
  justify-content: flex-end;
}

.preva-chat-row.from-preva {
  justify-content: flex-start;
}

.preva-mini-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--sunlight);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.65rem;
  color: var(--hero-dark);
  flex-shrink: 0;
}

.preva-chat-bubble {
  max-width: 80%;
  padding: 14px 20px;
  border-radius: 18px;
  font-size: 0.92rem;
  line-height: 1.6;
}

.preva-chat-row.from-preva .preva-chat-bubble {
  background: var(--sunlight-dim);
  border: 1px solid var(--border-dark);
  border-bottom-left-radius: 6px;
  color: var(--white);
}

.preva-chat-row.from-user .preva-chat-bubble {
  background: var(--sunlight);
  color: var(--hero-dark);
  border-bottom-right-radius: 6px;
  font-weight: 600;
}

@keyframes msgIn {
  from { opacity: 0; transform: translateY(10px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* Typing indicator */
.typing-indicator {
  display: flex;
  gap: 5px;
  padding: 6px 4px;
}

.typing-indicator span {
  width: 7px;
  height: 7px;
  background: var(--sunlight);
  border-radius: 50%;
  animation: typingBounce 1.4s ease-in-out infinite;
}

.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

@keyframes typingBounce {
  0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
  30% { transform: translateY(-8px); opacity: 1; }
}

/* Question chips */
.preva-chat-chips {
  padding: 24px 28px;
  border-top: 1px solid var(--border-dark);
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}

.preva-chip {
  padding: 10px 20px;
  background: transparent;
  border: 1px solid var(--border-dark);
  border-radius: 100px;
  color: var(--muted);
  font-family: var(--font-body);
  font-size: 0.82rem;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  white-space: nowrap;
  position: relative;
}

.preva-chip:hover {
  border-color: var(--sunlight);
  color: var(--sunlight);
  background: var(--sunlight-dim);
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(228,200,168,0.1);
}

.preva-chip.asked {
  opacity: 0.3;
  pointer-events: none;
  border-style: dashed;
}

/* ============================================
   CTA SECTION
   ============================================ */
#cta {
  text-align: center;
  padding: var(--section-padding) 20px;
  position: relative;
}

#cta .section-heading {
  font-size: clamp(2.2rem, 5vw, 4rem);
}

.cta-subtitle {
  font-size: clamp(1rem, 2vw, 1.3rem);
  color: var(--muted);
  margin-bottom: 40px;
  font-weight: 300;
}

.cta-form {
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
  max-width: 520px;
  margin: 0 auto;
}

.cta-email {
  flex: 1;
  min-width: 240px;
  padding: 16px 24px;
  background: var(--surface-dark);
  border: 1px solid var(--border-dark);
  border-radius: 8px;
  color: var(--white);
  font-family: var(--font-body);
  font-size: 1rem;
  outline: none;
  transition: border-color 0.3s;
}

.cta-email::placeholder {
  color: var(--muted);
}

.cta-email:focus {
  border-color: var(--sunlight);
}

.cta-button {
  display: inline-block;
  padding: 16px 40px;
  font-size: 1rem;
  font-weight: 800;
  color: var(--hero-dark);
  background: var(--sunlight);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-family: var(--font-body);
  letter-spacing: 0.5px;
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: 0 4px 30px rgba(228,200,168,0.2);
  white-space: nowrap;
}

.cta-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(228,200,168,0.3);
}

/* ============================================
   FOOTER — CONSTELLATION
   ============================================ */
footer {
  position: relative;
  padding: 80px 20px 40px;
  overflow: hidden;
  border-top: 1px solid var(--border-dark);
}

#footer-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  opacity: 0.4;
}

.footer-content {
  position: relative;
  z-index: 1;
  text-align: center;
}

.footer-tagline {
  font-size: clamp(1rem, 2vw, 1.3rem);
  font-weight: 300;
  color: var(--muted);
  margin-bottom: 40px;
  letter-spacing: 0.5px;
}

.footer-tagline em {
  font-style: normal;
  color: var(--sunlight);
}

.footer-logo {
  font-weight: 800;
  font-size: 1.1rem;
  letter-spacing: 0.5em;
  text-indent: 0.5em;
  color: var(--white);
  margin-bottom: 20px;
}

.footer-links {
  display: flex;
  justify-content: center;
  gap: 32px;
  margin-bottom: 24px;
}

.footer-links a {
  font-size: 0.85rem;
  color: var(--muted);
  transition: color 0.3s;
}

.footer-links a:hover { color: var(--sunlight); }

.footer-copy {
  font-size: 0.75rem;
  color: var(--muted);
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 900px) {
  .features-grid {
    grid-template-columns: 1fr;
  }
  .timeline-step {
    flex-direction: column !important;
    gap: 24px;
    text-align: center;
  }
  .timeline-line { display: none; }
  .timeline-node { display: none; }
  .timeline-visual { flex: 0 0 200px; width: 200px; height: 200px; }
  nav { padding: 16px 20px; }
  nav.scrolled { padding: 12px 20px; }
  .nav-links { gap: 20px; }
  .pull-quote-section { padding: 80px 20px 100px; }
}

@media (max-width: 600px) {
  .hero-wordmark { letter-spacing: 0.5em; text-indent: 0.5em; }
  .feature-card { padding: 28px 24px; }
  .preva-chat-chips { flex-direction: column; align-items: center; }
  .preva-chip { white-space: normal; text-align: center; }
  .footer-links { flex-direction: column; gap: 16px; }
  .nav-links a:not(.nav-cta) { display: none; }
  .cta-form { flex-direction: column; }
  .cta-email { min-width: 100%; }
  .pull-quote-section { padding: 60px 20px 80px; }
}

/* ============================================
   REDUCED MOTION
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.2s !important;
  }
  .reveal { opacity: 1; transform: none; }
  .hero-wordmark .char { opacity: 1; transform: none; }
  .hero-sub, .hero-cta-group { opacity: 1; transform: none; }
  .split-heading .word-inner { transform: none; }
  html { scroll-behavior: auto; }
}

/* ============================================
   WELCOME BACK OVERLAY
   ============================================ */
.welcome-back-flash {
  position: fixed;
  inset: 0;
  z-index: 10001;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--hero-dark);
  opacity: 1;
  transition: opacity 1.5s cubic-bezier(0.16, 1, 0.3, 1);
  pointer-events: none;
}

.welcome-back-flash.fade-out { opacity: 0; }

.welcome-back-text {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 300;
  letter-spacing: -1px;
  opacity: 0;
  transform: scale(0.95);
  transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
  color: var(--white);
}

.welcome-back-text.show {
  opacity: 1;
  transform: scale(1);
}

.welcome-back-text .wb-accent {
  color: var(--sunlight);
  font-weight: 600;
}
</style>
</head>
<body>

<!-- Navigation -->
<nav id="main-nav">
  <div class="nav-logo">PREVA</div>
  <div class="nav-links">
    <a href="#what-is-preva">About</a>
    <a href="#features">Features</a>
    <a href="#faq">FAQ</a>
    <a href="#cta" class="nav-cta">Join the Waitlist</a>
  </div>
</nav>

<!-- Hero: "The Awakening" -->
<section id="hero">
  <canvas id="hero-canvas"></canvas>
  <div class="hero-content">
    <h1 class="hero-wordmark" id="hero-wordmark"></h1>
    <p class="hero-sub" id="hero-sub">Your AI. Always.</p>
    <div class="hero-cta-group" id="hero-cta-group">
      <a href="#cta" class="hero-cta">Join the Waitlist</a>
    </div>
  </div>
  <div class="hero-scroll-indicator" id="scroll-indicator">
    <div class="scroll-line"></div>
  </div>
</section>

<!-- What is PREVA -->
<section id="what-is-preva">
  <div class="neural-pulse"></div>
  <div class="container">
    <div class="section-label reveal">WHAT IS PREVA</div>
    <h2 class="section-heading split-heading reveal">
      This changes <span class="glow-word" data-text="everything.">everything.</span>
    </h2>
    <div class="section-body reveal reveal-delay-1">
      <p>Not another chatbot. Not another search engine with a personality.</p>
      <p>PREVA is the first AI that actually lives with you. It learns who you are -- not just what you ask. It remembers your life, understands your world, and grows with you over time.</p>
      <p class="emphasis-text">One person. One AI. <em>No starting over. Ever.</em></p>
    </div>
  </div>
</section>

<!-- Memory Timeline -->
<section id="timeline">
  <div class="neural-pulse"></div>
  <div class="container">
    <div class="section-label reveal">HOW IT FEELS</div>
    <h2 class="section-heading split-heading reveal">
      What It's <span class="glow-word" data-text="Like.">Like.</span>
    </h2>

    <div class="timeline-wrapper">
      <div class="timeline-line"></div>

      <div class="timeline-step reveal" data-phase="day">
        <div class="timeline-node"></div>
        <div class="timeline-visual"><canvas class="timeline-canvas" data-phase="day"></canvas></div>
        <div class="timeline-text">
          <div class="timeline-label">DAY ONE</div>
          <h3 class="timeline-title">You talk. It listens.</h3>
          <p class="timeline-desc">It remembers your name, your priorities, your voice. A single point of connection in the dark.</p>
        </div>
      </div>

      <div class="timeline-step reveal reveal-delay-1" data-phase="week">
        <div class="timeline-node"></div>
        <div class="timeline-visual"><canvas class="timeline-canvas" data-phase="week"></canvas></div>
        <div class="timeline-text">
          <div class="timeline-label">WEEK ONE</div>
          <h3 class="timeline-title">It knows your world.</h3>
          <p class="timeline-desc">Your schedule, your family, your habits. It handles things before you ask. Connections multiply.</p>
        </div>
      </div>

      <div class="timeline-step reveal reveal-delay-2" data-phase="month">
        <div class="timeline-node"></div>
        <div class="timeline-visual"><canvas class="timeline-canvas" data-phase="month"></canvas></div>
        <div class="timeline-text">
          <div class="timeline-label">MONTH ONE</div>
          <h3 class="timeline-title">It feels like it's always been there.</h3>
          <p class="timeline-desc">Not a tool you open -- a presence that's just... there. A rich web of understanding.</p>
        </div>
      </div>

      <div class="timeline-step reveal reveal-delay-3" data-phase="always">
        <div class="timeline-node"></div>
        <div class="timeline-visual"><canvas class="timeline-canvas" data-phase="always"></canvas></div>
        <div class="timeline-text">
          <div class="timeline-label">ALWAYS</div>
          <h3 class="timeline-title">It never forgets. It never leaves.</h3>
          <p class="timeline-desc">It never judges. Your history isn't lost -- it's your advantage. An infinite constellation of you.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features -->
<section id="features">
  <div class="neural-pulse"></div>
  <div class="container">
    <div class="section-label reveal">FEATURES</div>
    <h2 class="section-heading split-heading reveal">
      This isn't what you think <span class="glow-word" data-text="AI is.">AI is.</span>
    </h2>
    <p class="section-body reveal reveal-delay-1">Every AI you've used starts over every time you open it. You repeat yourself. You re-explain. You start from zero. Every. Single. Time. PREVA doesn't.</p>

    <div class="features-grid">
      <div class="feature-card reveal reveal-delay-1">
        <div class="card-particles"></div>
        <div class="feature-icon">
          <svg viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7z"/><line x1="10" y1="22" x2="14" y2="22"/><line x1="9" y1="9" x2="15" y2="9"/><line x1="12" y1="6" x2="12" y2="12"/></svg>
        </div>
        <h3>It remembers everything.</h3>
        <p>Every conversation. Every preference. Every detail about your life. Yesterday, last month, last year. Your history isn't lost -- it's your advantage.</p>
      </div>
      <div class="feature-card reveal reveal-delay-2">
        <div class="card-particles"></div>
        <div class="feature-icon">
          <svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        </div>
        <h3>It actually does things.</h3>
        <p>Not just answers -- actions. It sends emails, manages your schedule, does research, creates documents, makes calls. You say it. It does it.</p>
      </div>
      <div class="feature-card reveal reveal-delay-3">
        <div class="card-particles"></div>
        <div class="feature-icon">
          <svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
        </div>
        <h3>It becomes yours.</h3>
        <p>Your AI learns your voice, your humor, your shorthand. It stops sounding like a machine and starts sounding like someone who knows you. Because it does.</p>
      </div>
      <div class="feature-card reveal reveal-delay-4">
        <div class="card-particles"></div>
        <div class="feature-icon">
          <svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        </div>
        <h3>It belongs to you.</h3>
        <p>Your conversations never train someone else's AI. Your data never leaves. No ads. No profiling. No sharing. It exists for you alone.</p>
      </div>
    </div>
  </div>
</section>

<!-- Who It's For -->
<section id="who-its-for">
  <div class="neural-pulse"></div>
  <div class="container">
    <div class="section-label reveal">WHO IT'S FOR</div>
    <h2 class="section-heading split-heading reveal">
      Built for <span class="glow-word" data-text="humans.">humans.</span>
    </h2>
    <p class="section-body reveal reveal-delay-1">Not built for enterprises. Not built for workflows. Not built for productivity metrics.</p>

    <div class="personas-list">
      <div class="persona-item reveal reveal-delay-1">
        <p>Built for <strong>the music producer</strong> who needs a partner, not a task list.</p>
      </div>
      <div class="persona-item reveal reveal-delay-2">
        <p>Built for <strong>the founder</strong> who needs someone who remembers the last six meetings.</p>
      </div>
      <div class="persona-item reveal reveal-delay-3">
        <p>Built for <strong>the parent</strong> who needs help and doesn't have time to explain everything twice.</p>
      </div>
      <div class="persona-item reveal reveal-delay-4">
        <p>Built for <strong>anyone</strong> who's ever wished they had someone in their corner. Always.</p>
      </div>
    </div>
  </div>
</section>

<!-- Pull Quote — Editorial -->
<div class="pull-quote-section reveal">
  <div class="pull-quote-inner">
    <p class="pull-quote-text">"It's not something I use. It's something I live."</p>
    <p class="pull-quote-attribution">-- Early PREVA User</p>
  </div>
</div>

<!-- Why We Exist -->
<section id="why-we-exist">
  <div class="neural-pulse"></div>
  <div class="container">
    <div class="section-label reveal">WHY PREVA EXISTS</div>
    <h2 class="section-heading split-heading reveal">
      Why PREVA <span class="glow-word" data-text="exists.">exists.</span>
    </h2>
    <div class="section-body reveal reveal-delay-1">
      <p>AI was supposed to change everything. Instead, it gave us chatbots that forget you exist the moment you close the window.</p>
      <p>We think AI should know you. Really know you. Not just your calendar -- your life. Not just your words -- your meaning. Not just what you need right now -- what you'll need tomorrow.</p>
      <p class="emphasis-text">That's not a product. That's a <em>relationship</em>.</p>
      <p>And that's what we're building.</p>
    </div>
  </div>
</section>

<!-- Ask PREVA — Premium Chat Interface -->
<section id="faq">
  <div class="neural-pulse"></div>
  <div class="container">
    <div class="section-label reveal">QUESTIONS? ANSWERS.</div>
    <h2 class="section-heading split-heading reveal">
      Ask <span class="glow-word" data-text="PREVA.">PREVA.</span>
    </h2>

    <!-- Chat Window -->
    <div class="preva-chat-window reveal reveal-delay-1">
      <div class="preva-chat-header">
        <div class="preva-chat-avatar">P</div>
        <div class="preva-chat-info">
          <div class="preva-chat-name">PREVA</div>
          <div class="preva-chat-status">
            <span class="preva-chat-status-dot"></span>
            Online
          </div>
        </div>
      </div>
      <div class="preva-chat-messages" id="preva-chat-messages">
        <div class="preva-chat-row from-preva">
          <div class="preva-mini-avatar">P</div>
          <div class="preva-chat-bubble">Hey! I'm PREVA. Ask me anything -- I'll remember.</div>
        </div>
      </div>
      <div class="preva-chat-chips" id="preva-chat-chips">
        <button class="preva-chip" data-a="No. ChatGPT forgets you every time you start a new conversation. PREVA never does. It remembers every conversation you've ever had, learns from every interaction, and takes real action in the real world on your behalf. It's not a chat window -- it's a partner.">Is this just ChatGPT with extra steps?</button>
        <button class="preva-chip" data-a="Completely. Your conversations are yours. We don't train on your data. We don't sell it. We don't share it. Your AI exists for you and you alone.">Is my data private?</button>
        <button class="preva-chip" data-a="PREVA uses a proprietary memory architecture that preserves your conversation history, preferences, and context across every session. The more you use it, the better it knows you. Nothing is ever lost.">How does it remember things?</button>
        <button class="preva-chip" data-a="Wherever you already are. Telegram, WhatsApp, Signal, Slack, email, web. No new app to download. Your AI meets you where you live.">What platforms does it work on?</button>
        <button class="preva-chip" data-a="Yes. Your AI adapts to you naturally over time, but you can also shape its voice, its priorities, and its style. Want it direct and no-nonsense? Done. Warm and encouraging? You got it. It becomes yours in every sense.">Can I customize my AI's personality?</button>
        <button class="preva-chip" data-a="Send and manage emails. Handle your calendar. Research anything. Create documents. Post to social media. Set reminders. Draft messages. Manage files. Automate workflows. And it learns new skills over time. If you can describe it, your AI can probably do it.">What can it actually do?</button>
        <button class="preva-chip" data-a="We're finalizing pricing now. There will be a simple monthly plan -- no surprise fees, no per-message charges, no upsells. Early waitlist members will get priority access and special pricing.">How much does it cost?</button>
        <button class="preva-chip" data-a="Absolutely. Draft them, send them, manage your inbox, flag what matters, ignore what doesn't. You tell it your preferences once and it handles the rest.">Can it send emails for me?</button>
        <button class="preva-chip" data-a="Yes. It integrates with your calendar to schedule, reschedule, set reminders, and even suggest optimal meeting times based on your patterns. It knows when you're busy and when you're free.">Does it work with my calendar?</button>
        <button class="preva-chip" data-a="Each PREVA is one-to-one. One person, one AI. That's the whole point -- it knows YOU deeply. Shared access would compromise that. Every person deserves their own.">Can multiple people use one AI?</button>
        <button class="preva-chip" data-a="Siri answers questions. PREVA knows you. Siri forgets your last conversation. PREVA remembers your life. Siri follows commands. PREVA takes initiative. It's the difference between a search bar and a partner.">How is this different from Siri?</button>
        <button class="preva-chip" data-a="Never. Your history is yours forever. Pick it back up whenever you want -- days, weeks, months later. PREVA will be right where you left off, remembering everything. That's the promise.">Will it forget me if I stop using it?</button>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section id="cta">
  <div class="neural-pulse"></div>
  <div class="container">
    <div class="section-label reveal">READY?</div>
    <h2 class="section-heading reveal">The future remembers you.</h2>
    <p class="cta-subtitle reveal reveal-delay-1">PREVA is coming. Be first.</p>
    <div class="reveal reveal-delay-2">
      <form class="cta-form" id="waitlist-form">
        <input type="email" class="cta-email" id="waitlist-email" placeholder="Enter your email" required>
        <button type="submit" class="cta-button" id="waitlist-btn">Join the Waitlist</button>
      </form>
      <p id="waitlist-msg" style="color:var(--sunlight);margin-top:12px;font-size:0.95rem;display:none;"></p>
    </div>
  </div>
</section>

<!-- Footer Constellation -->
<footer>
  <canvas id="footer-canvas"></canvas>
  <div class="footer-content">
    <div class="footer-tagline">The future <em>remembers</em> you.</div>
    <div class="footer-logo">PREVA</div>
    <div class="footer-links">
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
      <a href="#">Contact</a>
    </div>
    <div class="footer-copy">&copy; 2026 PREVA. All rights reserved. Your AI. Always.</div>
  </div>
</footer>

<script>
// ============================================
// PREVA.ai Interactive Prototype
// Pure vanilla JS — no dependencies
// Brand: Sunlight gold (#E4C8A8) on deep navy (#1A1A2E)
// ============================================

(function() {
  'use strict';

  const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const isMobile = window.innerWidth < 600;

  // ============================================
  // SUNLIGHT COLOR CONSTANTS
  // ============================================
  const SUNLIGHT = { r: 228, g: 200, b: 168 }; // #E4C8A8

  // ============================================
  // 1. HERO PARTICLE CONSTELLATION — "THE AWAKENING"
  // ============================================
  const heroCanvas = document.getElementById('hero-canvas');
  const hCtx = heroCanvas.getContext('2d');
  let heroParticles = [];
  let heroWidth, heroHeight;
  const isReturning = localStorage.getItem('preva-visited') === 'true';

  function resizeHeroCanvas() {
    heroWidth = heroCanvas.parentElement.offsetWidth;
    heroHeight = heroCanvas.parentElement.offsetHeight;
    heroCanvas.width = heroWidth * window.devicePixelRatio;
    heroCanvas.height = heroHeight * window.devicePixelRatio;
    heroCanvas.style.width = heroWidth + 'px';
    heroCanvas.style.height = heroHeight + 'px';
    hCtx.setTransform(1, 0, 0, 1, 0, 0);
    hCtx.scale(window.devicePixelRatio, window.devicePixelRatio);
  }

  resizeHeroCanvas();

  class Particle {
    constructor(x, y, delay) {
      this.targetX = x;
      this.targetY = y;
      this.x = heroWidth / 2 + (Math.random() - 0.5) * 100;
      this.y = heroHeight / 2 + (Math.random() - 0.5) * 100;
      this.size = Math.random() * 2 + 0.8;
      this.opacity = 0;
      this.targetOpacity = Math.random() * 0.6 + 0.2;
      this.delay = delay;
      this.vx = 0;
      this.vy = 0;
      this.pulsePhase = Math.random() * Math.PI * 2;
      this.pulseSpeed = 0.01 + Math.random() * 0.02;
      this.born = Date.now();
      this.settled = isReturning;
      if (isReturning) {
        this.x = this.targetX;
        this.y = this.targetY;
        this.opacity = this.targetOpacity;
      }
    }

    update(time) {
      const elapsed = Date.now() - this.born;
      if (!this.settled && elapsed < this.delay) return;

      if (!this.settled) {
        this.x += (this.targetX - this.x) * 0.03;
        this.y += (this.targetY - this.y) * 0.03;
        this.opacity += (this.targetOpacity - this.opacity) * 0.02;
        if (Math.abs(this.x - this.targetX) < 0.5 && Math.abs(this.y - this.targetY) < 0.5) {
          this.settled = true;
        }
      }

      // Gentle drift (no mouse interaction)
      this.vx += (this.targetX - this.x) * 0.008;
      this.vy += (this.targetY - this.y) * 0.008;
      this.vx *= 0.92;
      this.vy *= 0.92;
      this.x += this.vx;
      this.y += this.vy;

      // Pulse
      this.pulsePhase += this.pulseSpeed;
    }

    draw(ctx) {
      if (this.opacity <= 0) return;
      const pulse = 1 + Math.sin(this.pulsePhase) * 0.3;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size * pulse, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${this.opacity * (0.7 + Math.sin(this.pulsePhase) * 0.3)})`;
      ctx.fill();

      // Glow
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size * pulse * 3, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${this.opacity * 0.08})`;
      ctx.fill();
    }
  }

  // Generate constellation points
  function generateConstellation(count) {
    const particles = [];
    const cx = heroWidth / 2;
    const cy = heroHeight / 2;

    for (let i = 0; i < count; i++) {
      const angle = Math.random() * Math.PI * 2;
      const radius = Math.random() * Math.min(heroWidth, heroHeight) * 0.35 + 30;
      const x = cx + Math.cos(angle) * radius * (0.4 + Math.random() * 0.6);
      const y = cy + Math.sin(angle) * radius * (0.4 + Math.random() * 0.6);
      const delay = reducedMotion ? 0 : i * 15 + Math.random() * 800;
      particles.push(new Particle(x, y, delay));
    }
    return particles;
  }

  const particleCount = isMobile ? 60 : 120;
  heroParticles = generateConstellation(particleCount);

  function drawConnections(ctx, particles, maxDist) {
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const a = particles[i];
        const b = particles[j];
        if (a.opacity <= 0 || b.opacity <= 0) continue;
        const dx = a.x - b.x;
        const dy = a.y - b.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < maxDist) {
          const alpha = (1 - dist / maxDist) * Math.min(a.opacity, b.opacity) * 0.3;
          ctx.beginPath();
          ctx.moveTo(a.x, a.y);
          ctx.lineTo(b.x, b.y);
          ctx.strokeStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${alpha})`;
          ctx.lineWidth = 0.5;
          ctx.stroke();
        }
      }
    }
  }

  function animateHero() {
    hCtx.clearRect(0, 0, heroWidth, heroHeight);

    // Subtle background radial gradient
    const gradient = hCtx.createRadialGradient(heroWidth / 2, heroHeight / 2, 0, heroWidth / 2, heroHeight / 2, heroWidth * 0.5);
    gradient.addColorStop(0, `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, 0.03)`);
    gradient.addColorStop(1, 'transparent');
    hCtx.fillStyle = gradient;
    hCtx.fillRect(0, 0, heroWidth, heroHeight);

    const time = Date.now();
    heroParticles.forEach(p => p.update(time));

    drawConnections(hCtx, heroParticles, isMobile ? 80 : 120);
    heroParticles.forEach(p => p.draw(hCtx));

    requestAnimationFrame(animateHero);
  }

  if (!reducedMotion) {
    animateHero();
  } else {
    heroParticles.forEach(p => { p.x = p.targetX; p.y = p.targetY; p.opacity = p.targetOpacity; p.settled = true; });
    heroParticles.forEach(p => p.draw(hCtx));
    drawConnections(hCtx, heroParticles, 120);
  }

  // ============================================
  // 2. HERO WORDMARK TYPEWRITER
  // ============================================
  const wordmarkEl = document.getElementById('hero-wordmark');
  const heroSub = document.getElementById('hero-sub');
  const heroCTA = document.getElementById('hero-cta-group');
  const scrollIndicator = document.getElementById('scroll-indicator');

  const wordmarkText = 'PREVA';
  const chars = [];

  wordmarkText.split('').forEach((char, ci) => {
    const span = document.createElement('span');
    span.className = 'char';
    span.textContent = char;
    span.dataset.index = ci;
    wordmarkEl.appendChild(span);
    chars.push(span);
  });

  function typewriterAnimate() {
    const baseDelay = isReturning ? 100 : 600;
    const charDelay = isReturning ? 60 : 100;

    chars.forEach((char, i) => {
      setTimeout(() => {
        char.classList.add('visible');
        char.style.transition = 'opacity 0.4s cubic-bezier(0.16, 1, 0.3, 1), transform 0.4s cubic-bezier(0.16, 1, 0.3, 1)';
      }, baseDelay + i * charDelay);
    });

    const totalTime = baseDelay + chars.length * charDelay + 300;
    setTimeout(() => {
      heroSub.classList.add('visible');
      heroCTA.classList.add('visible');
      scrollIndicator.classList.add('visible');
    }, totalTime);
  }

  if (reducedMotion) {
    chars.forEach(c => c.classList.add('visible'));
    heroSub.classList.add('visible');
    heroCTA.classList.add('visible');
    scrollIndicator.classList.add('visible');
  } else {
    setTimeout(typewriterAnimate, isReturning ? 200 : 500);
  }

  // ============================================
  // 3. WELCOME BACK OVERLAY (returning visitors)
  // ============================================
  if (isReturning && !reducedMotion) {
    const overlay = document.createElement('div');
    overlay.className = 'welcome-back-flash';
    overlay.innerHTML = '<div class="welcome-back-text">Welcome <span class="wb-accent">back</span>.</div>';
    document.body.appendChild(overlay);
    const wbText = overlay.querySelector('.welcome-back-text');

    setTimeout(() => wbText.classList.add('show'), 200);
    setTimeout(() => overlay.classList.add('fade-out'), 1500);
    setTimeout(() => overlay.remove(), 3000);
  }

  // Mark visited
  localStorage.setItem('preva-visited', 'true');

  // ============================================
  // 4. SCROLL REVEAL & NEURAL PULSE TRANSITIONS
  // ============================================
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('in-view');
      }
    });
  }, { threshold: 0.15, rootMargin: '0px 0px -50px 0px' });

  document.querySelectorAll('.reveal, .timeline-step, section').forEach(el => {
    revealObserver.observe(el);
  });

  // Also observe the pull-quote section (it's a div, not a section)
  document.querySelectorAll('.pull-quote-section').forEach(el => {
    revealObserver.observe(el);
  });

  // ============================================
  // 5. NAVIGATION SCROLL STATE
  // ============================================
  const nav = document.getElementById('main-nav');

  window.addEventListener('scroll', () => {
    if (window.scrollY > 60) {
      nav.classList.add('scrolled');
    } else {
      nav.classList.remove('scrolled');
    }
  }, { passive: true });

  // ============================================
  // 6. FEATURE CARDS — AMBIENT PARTICLES (no mouse follow)
  // ============================================
  document.querySelectorAll('.feature-card').forEach(card => {
    const container = card.querySelector('.card-particles');
    for (let i = 0; i < 5; i++) {
      const particle = document.createElement('div');
      particle.className = 'card-particle';
      particle.style.left = (15 + Math.random() * 70) + '%';
      particle.style.top = (15 + Math.random() * 70) + '%';
      particle.style.animationDelay = (Math.random() * 3) + 's';
      particle.style.animationDuration = (2 + Math.random() * 2) + 's';
      container.appendChild(particle);
    }
  });

  // ============================================
  // 7. TIMELINE MINI CANVASES
  // ============================================
  const phaseConfig = {
    day: { count: 1, radius: 0, connectionDist: 0 },
    week: { count: 8, radius: 40, connectionDist: 60 },
    month: { count: 25, radius: 70, connectionDist: 55 },
    always: { count: 60, radius: 95, connectionDist: 50 }
  };

  document.querySelectorAll('.timeline-canvas').forEach(canvas => {
    const phase = canvas.dataset.phase;
    const config = phaseConfig[phase];
    const ctx = canvas.getContext('2d');
    const size = canvas.parentElement.offsetWidth;
    const dpr = window.devicePixelRatio;
    canvas.width = size * dpr;
    canvas.height = size * dpr;
    canvas.style.width = size + 'px';
    canvas.style.height = size + 'px';
    ctx.scale(dpr, dpr);

    const cx = size / 2;
    const cy = size / 2;
    const nodes = [];

    for (let i = 0; i < config.count; i++) {
      const angle = (i / config.count) * Math.PI * 2 + Math.random() * 0.5;
      const r = config.radius * (0.3 + Math.random() * 0.7);
      nodes.push({
        x: cx + Math.cos(angle) * r,
        y: cy + Math.sin(angle) * r,
        size: phase === 'day' ? 4 : (1.5 + Math.random() * 2),
        phase: Math.random() * Math.PI * 2
      });
    }

    function drawTimeline() {
      ctx.clearRect(0, 0, size, size);

      // Draw connections
      if (config.connectionDist > 0) {
        for (let i = 0; i < nodes.length; i++) {
          for (let j = i + 1; j < nodes.length; j++) {
            const dx = nodes[i].x - nodes[j].x;
            const dy = nodes[i].y - nodes[j].y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < config.connectionDist) {
              const alpha = (1 - dist / config.connectionDist) * 0.25;
              ctx.beginPath();
              ctx.moveTo(nodes[i].x, nodes[i].y);
              ctx.lineTo(nodes[j].x, nodes[j].y);
              ctx.strokeStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${alpha})`;
              ctx.lineWidth = 0.5;
              ctx.stroke();
            }
          }
        }
      }

      // Draw nodes
      const time = Date.now() * 0.001;
      nodes.forEach(n => {
        const pulse = 1 + Math.sin(time * 2 + n.phase) * 0.3;
        const alpha = 0.5 + Math.sin(time * 1.5 + n.phase) * 0.3;

        // Glow
        ctx.beginPath();
        ctx.arc(n.x, n.y, n.size * pulse * 4, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${alpha * 0.06})`;
        ctx.fill();

        // Core
        ctx.beginPath();
        ctx.arc(n.x, n.y, n.size * pulse, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${alpha})`;
        ctx.fill();
      });

      if (!reducedMotion) requestAnimationFrame(drawTimeline);
    }

    drawTimeline();
  });

  // ============================================
  // 8. ASK PREVA — PREMIUM CHAT INTERFACE
  // ============================================
  const chatMessages = document.getElementById('preva-chat-messages');
  const chatChips = document.getElementById('preva-chat-chips');
  let chatBusy = false;

  chatChips.addEventListener('click', (e) => {
    const chip = e.target.closest('.preva-chip');
    if (!chip || chatBusy || chip.classList.contains('asked')) return;

    chatBusy = true;
    chip.classList.add('asked');

    const question = chip.textContent.trim();
    const answer = chip.dataset.a;

    // Add user message bubble
    const userRow = document.createElement('div');
    userRow.className = 'preva-chat-row from-user';
    userRow.innerHTML = '<div class="preva-chat-bubble">' + escapeHtml(question) + '</div>';
    chatMessages.appendChild(userRow);
    chatMessages.scrollTop = chatMessages.scrollHeight;

    // Show typing indicator after a brief pause
    setTimeout(() => {
      const typingRow = document.createElement('div');
      typingRow.className = 'preva-chat-row from-preva';
      typingRow.innerHTML = '<div class="preva-mini-avatar">P</div><div class="preva-chat-bubble"><div class="typing-indicator"><span></span><span></span><span></span></div></div>';
      chatMessages.appendChild(typingRow);
      chatMessages.scrollTop = chatMessages.scrollHeight;

      // Replace typing with typewriter answer
      const typingDelay = 800 + Math.random() * 600;
      setTimeout(() => {
        const bubble = typingRow.querySelector('.preva-chat-bubble');
        bubble.innerHTML = '';

        let i = 0;
        const typeSpeed = reducedMotion ? 0 : 12;
        function typeChar() {
          if (i < answer.length) {
            bubble.textContent += answer[i];
            i++;
            chatMessages.scrollTop = chatMessages.scrollHeight;
            if (typeSpeed > 0) {
              setTimeout(typeChar, typeSpeed + Math.random() * 8);
            } else {
              bubble.textContent = answer;
              chatMessages.scrollTop = chatMessages.scrollHeight;
              chatBusy = false;
            }
          } else {
            chatBusy = false;
          }
        }
        typeChar();
      }, typingDelay);
    }, 300);
  });

  function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  // ============================================
  // 9. FOOTER CONSTELLATION
  // ============================================
  const footerCanvas = document.getElementById('footer-canvas');
  const fCtx = footerCanvas.getContext('2d');
  let footerWidth, footerHeight;
  let footerNodes = [];

  function resizeFooterCanvas() {
    const footer = footerCanvas.parentElement;
    footerWidth = footer.offsetWidth;
    footerHeight = footer.offsetHeight;
    const dpr = window.devicePixelRatio;
    footerCanvas.width = footerWidth * dpr;
    footerCanvas.height = footerHeight * dpr;
    footerCanvas.style.width = footerWidth + 'px';
    footerCanvas.style.height = footerHeight + 'px';
    fCtx.setTransform(1, 0, 0, 1, 0, 0);
    fCtx.scale(dpr, dpr);
  }

  resizeFooterCanvas();

  // Create footer nodes
  const footerNodeCount = isMobile ? 30 : 50;
  for (let i = 0; i < footerNodeCount; i++) {
    footerNodes.push({
      x: Math.random() * footerWidth,
      y: Math.random() * footerHeight,
      targetX: footerWidth / 2 + (Math.random() - 0.5) * 200,
      targetY: footerHeight / 2 + (Math.random() - 0.5) * 100,
      size: 1 + Math.random() * 1.5,
      phase: Math.random() * Math.PI * 2,
      speed: 0.002 + Math.random() * 0.003
    });
  }

  let footerVisible = false;
  const footerObserver = new IntersectionObserver((entries) => {
    entries.forEach(e => { footerVisible = e.isIntersecting; });
  }, { threshold: 0.1 });
  footerObserver.observe(footerCanvas.parentElement);

  function animateFooter() {
    if (!footerVisible && !reducedMotion) {
      requestAnimationFrame(animateFooter);
      return;
    }

    fCtx.clearRect(0, 0, footerWidth, footerHeight);
    const time = Date.now() * 0.001;

    // Slowly contract toward center
    footerNodes.forEach(n => {
      n.x += (n.targetX - n.x) * 0.0005;
      n.y += (n.targetY - n.y) * 0.0005;

      const pulse = 1 + Math.sin(time * 2 + n.phase) * 0.3;
      const alpha = 0.3 + Math.sin(time * 1.5 + n.phase) * 0.2;

      fCtx.beginPath();
      fCtx.arc(n.x, n.y, n.size * pulse, 0, Math.PI * 2);
      fCtx.fillStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${alpha})`;
      fCtx.fill();
    });

    // Connections
    for (let i = 0; i < footerNodes.length; i++) {
      for (let j = i + 1; j < footerNodes.length; j++) {
        const a = footerNodes[i], b = footerNodes[j];
        const dx = a.x - b.x, dy = a.y - b.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 100) {
          fCtx.beginPath();
          fCtx.moveTo(a.x, a.y);
          fCtx.lineTo(b.x, b.y);
          fCtx.strokeStyle = `rgba(${SUNLIGHT.r}, ${SUNLIGHT.g}, ${SUNLIGHT.b}, ${(1 - dist / 100) * 0.12})`;
          fCtx.lineWidth = 0.5;
          fCtx.stroke();
        }
      }
    }

    if (!reducedMotion) requestAnimationFrame(animateFooter);
  }

  if (!reducedMotion) animateFooter();

  // ============================================
  // RESIZE HANDLER
  // ============================================
  let resizeTimeout;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      resizeHeroCanvas();
      heroParticles = generateConstellation(particleCount);
      resizeFooterCanvas();
    }, 250);
  });

  // ============================================
  // SMOOTH SCROLL FOR ANCHOR LINKS
  // ============================================
  document.querySelectorAll('a[href^="#"]').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const target = document.querySelector(link.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });

})();
</script>
<!-- Waitlist Supabase Integration -->
<script>
(function() {
  const SUPABASE_URL = 'https://gqnygbdzbpyvhtawrjrh.supabase.co';
  const SUPABASE_ANON = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdxbnlnYmR6YnB5dmh0YXdyanJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2MjQ3MjQsImV4cCI6MjA4NTIwMDcyNH0.qJf9R6ElSsZMlSlEXNf1uXOhVeIurjloUDYENI_IrfM';

  const form = document.getElementById('waitlist-form');
  const emailInput = document.getElementById('waitlist-email');
  const btn = document.getElementById('waitlist-btn');
  const msg = document.getElementById('waitlist-msg');

  form.addEventListener('submit', async function(e) {
    e.preventDefault();
    const email = emailInput.value.trim().toLowerCase();
    if (!email) return;

    btn.disabled = true;
    btn.textContent = 'Joining...';
    msg.style.display = 'none';

    try {
      const res = await fetch(SUPABASE_URL + '/rest/v1/preva_waitlist', {
        method: 'POST',
        headers: {
          'apikey': SUPABASE_ANON,
          'Authorization': 'Bearer ' + SUPABASE_ANON,
          'Content-Type': 'application/json',
          'Prefer': 'return=minimal'
        },
        body: JSON.stringify({ email: email, source: 'website' })
      });

      if (res.status === 201) {
        btn.innerHTML = "&#10003; You're on the list!";
        btn.style.background = '#22c55e';
        btn.style.color = '#ffffff';
        btn.style.letterSpacing = '0.5px';
        emailInput.disabled = true;
        msg.textContent = "Welcome to the future. We'll be in touch.";
        msg.style.display = 'block';
        localStorage.setItem('preva_waitlist', 'true');
      } else if (res.status === 409) {
        btn.innerHTML = '&#10003; Already on the list!';
        btn.style.background = '#22c55e';
        btn.style.color = '#ffffff';
        btn.style.letterSpacing = '0.5px';
        emailInput.disabled = true;
        msg.textContent = "You're already signed up. We haven't forgotten you.";
        msg.style.display = 'block';
      } else {
        throw new Error('status ' + res.status);
      }
    } catch (err) {
      btn.textContent = 'Join the Waitlist';
      btn.disabled = false;
      msg.textContent = 'Something went wrong. Please try again.';
      msg.style.color = '#f87171';
      msg.style.display = 'block';
      setTimeout(function() { msg.style.display = 'none'; msg.style.color = 'var(--sunlight)'; }, 3000);
    }
  });
})();
</script>
</body>
</html>
